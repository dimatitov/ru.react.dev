---
title: preconnect
---

<Intro>

`preconnect` позволяет заранее установить соединение с сервером, откуда вы планируете загружать ресурсы.

```js
preconnect("https://example.com");
```

</Intro>

<InlineToc />

---

## Справочник {/*reference*/}

### `preconnect(href)` {/*preconnect*/}

Чтобы заранее установить соединение с хостом, вызовите функцию `preconnect` из модуля `react-dom`.

```js
import { preconnect } from 'react-dom';

function AppRoot() {
  preconnect("https://example.com");
  // ...
}

```

[См. больше примеров ниже.](#usage)

Функция `preconnect` подсказывает браузеру, что стоит заранее установить соединение с указанным сервером. Если браузер воспользуется этой подсказкой, это может ускорить загрузку ресурсов.

#### Параметры {/*parameters*/}

* `href`: string — URL сервера, с которым нужно установить соединение.


#### Возвращает {/*returns*/}

`preconnect` ничего не возвращает.

#### Особенности {/*caveats*/}

* Повторные вызовы `preconnect` для одного и того же сервера работают так же, как и один вызов.
* В браузере `preconnect` можно вызывать где угодно: при рендере компонента, в эффекте, обработчике событий и т. д.
* При серверной отрисовке или при использовании Server Components, `preconnect` срабатывает только при вызове во время рендера компонента или в асинхронном контексте, происходящем из рендера. В других случаях вызов будет проигнорирован.
* Если вы точно знаете, какие ресурсы понадобятся, вместо `preconnect` лучше использовать [другие функции](/reference/react-dom/#resource-preloading-apis), которые сразу начнут загрузку.
* Нет смысла использовать `preconnect` для того же сервера, с которого загружена страница — соединение с ним уже установлено к моменту выполнения этой подсказки.

---

## Примеры использования {/*usage*/}

### Предварительное соединение во время рендера {/*preconnecting-when-rendering*/}

Вызывайте `preconnect` при рендере компонента, если знаете, что дочерние элементы будут загружать ресурсы с внешнего хоста.

```js
import { preconnect } from 'react-dom';

function AppRoot() {
  preconnect("https://example.com");
  return ...;
}
```

### Предварительное соединение в обработчике событий {/*preconnecting-in-an-event-handler*/}

Вызывайте `preconnect` в обработчике событий, если знаете, что после этого понадобятся внешние ресурсы. Так браузер начнёт подключение заранее, ещё до рендера новой страницы или состояния, и всё загрузится быстрее.

```js
import { preconnect } from 'react-dom';

function CallToAction() {
    const onClick = () => {
        preconnect('http://example.com');
        startWizard();
    }
    return (
        <button onClick={onClick}>Start Wizard</button>
    );
}
```
